<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simblreen Candle Puzzle</title>
<!-- Using Halloween Font and Bangers Font -->
<link href="https://fonts.googleapis.com/css2?family=Nosifer&family=Bangers&display=swap" rel="stylesheet">
<style>
  body {
    background-color: #0a0a0a;
    color: #89ff0f;
    font-family: 'Trebuchet MS', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  h1 {
    font-family: 'Nosifer', cursive;
    font-size: 3rem;
    color: #ff5500;
    text-shadow: 0 0 8px #ffc604;
    margin-bottom: 20px;
  }
  .riddle {
    font-family: 'Bangers', cursive;
    font-size: 2rem;
    color: #e5f7d1;
    text-align: center;
    margin-bottom: 20px;
  }
  .instructions {
    font-size: 1.2rem;
    color: #f5f3e7;
    text-align: center;
    margin-bottom: 20px;
  }
  .candle-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
  }
  .candle {
    width: 100px;
    height: 133px;
    object-fit: cover;
    cursor: pointer;
  }
  .hidden {
    display: none;
  }
  #treat-btn {
    font-family: 'Nosifer', cursive;
    font-size: 2rem;
    background-color: #b4df36;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    display: none;
    border-radius: 8px;
    box-shadow: 0 0 10px #d5ff5a;
    transition: 0.3s;
  }
  #treat-btn:hover {
    background-color: #ffb101;
  }
</style>
</head>
<body>

<h1>Simblreen Candle Puzzle ðŸŽƒ</h1>

<!-- Riddle Section -->
<div class="riddle">
  "To light the path to the treat, follow the candles of the sea, the light, and the forest."
</div>

<!-- Instructions -->
<div class="instructions">
  <p>(Unlock the candles in the right order to light them up! If the order is wrong, the candles will extinguish and reset.)</p>
  <p>(Once the candles are lit correctly, the gift will be revealed!)</p>
</div>

<div class="candle-container">
  <img src="candle_white_off.png" class="candle" id="candle1" data-color="white" onclick="lightCandle(1)">
  <img src="candle_blue_off.png" class="candle" id="candle2" data-color="blue" onclick="lightCandle(2)">
  <img src="candle_green_off.png" class="candle" id="candle3" data-color="green" onclick="lightCandle(3)">
</div>

<button id="treat-btn" onclick="getTreat()">ðŸŽƒ Get Treat</button>

<script>
  // Correct candle lighting order
  const correctOrder = ['blue', 'white', 'green']; 
  let clickedOrder = [];
  let isGameOver = false;

  // Sound effects
  const lightingSound = new Audio('lighting.mp3');  // Candle lighting sound
  const extinguishSound = new Audio('extinguish.mp3');  // Candle extinguishing sound

  // Light a candle
  function lightCandle(candleNumber) {
    if (isGameOver) return;

    // Get the candle color
    const candleColor = document.getElementById(`candle${candleNumber}`).dataset.color;

    // Add clicked color to the order
    clickedOrder.push(candleColor);

    // Light the candle
    document.getElementById(`candle${candleNumber}`).src = `candle_${candleColor}_on.png`;
    lightingSound.play();

    // Check if the clicked order is correct
    if (clickedOrder[clickedOrder.length - 1] !== correctOrder[clickedOrder.length - 1]) {
      // If incorrect, light the candle for 2 seconds, then extinguish and reset
      extinguishAllCandles();
      isGameOver = true;
      setTimeout(() => {
        alert('Incorrect order, try again!');
        location.reload();  // Automatically refresh the page to reset the game
      }, 500);
    } else if (clickedOrder.length === correctOrder.length) {
      // If all candles are lit correctly, show the treat button
      setTimeout(() => {
        document.getElementById('treat-btn').style.display = 'block';
      }, 500);
    }
  }

  // Extinguish all candles
  function extinguishAllCandles() {
    for (let i = 1; i <= 3; i++) {
      const candle = document.getElementById(`candle${i}`);
      const color = candle.dataset.color;
      candle.src = `candle_${color}_off.png`;
    }
    extinguishSound.play();
    clickedOrder = [];
  }

  // Get Treat button click event
  function getTreat() {
    window.open('https://wotunciba.tumblr.com/simblreentreat1', '_blank');
  }
</script>

</body>
</html>
