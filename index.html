<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simblreen Treat - Candle Puzzle</title>
<!-- å¼•å…¥ä¸‡åœ£èŠ‚å­—ä½“ -->
<link href="https://fonts.googleapis.com/css2?family=Nosifer&display=swap" rel="stylesheet">
<style>
  body {
    background-color: #0a0a0a;
    color: #89ff0f;
    font-family: 'Trebuchet MS', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  h1 {
    font-family: 'Nosifer', cursive;
    font-size: 3rem;
    color: #ff5500;
    text-shadow: 0 0 8px #65c600;
    margin-bottom: 20px;
  }
  .instructions {
    font-size: 1.2rem;
    color: #f5f3e7;
    text-align: center;
    margin-bottom: 20px;
  }
  .candle-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
  }
  .candle {
    width: 100px;
    height: 133px;
    object-fit: cover;
    cursor: pointer;
  }
  .hidden {
    display: none;
  }
  #treat-btn {
    font-size: 2rem;
    background-color: #ff7518;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    display: none;
    border-radius: 8px;
    box-shadow: 0 0 10px #ff7518;
    transition: 0.3s;
  }
  #treat-btn:hover {
    background-color: #ff5500;
  }
</style>
</head>
<body>

<h1>Simblreen Candle Puzzle ğŸƒ</h1>
<div class="instructions">
  <p>è§£å¼€è°œé¢˜ï¼ŒæŒ‰ç…§æ­£ç¡®é¡ºåºç‚¹äº®èœ¡çƒ›ï¼è‹¥é¡ºåºé”™äº†ï¼Œèœ¡çƒ›ä¼šç†„ç­ï¼Œé‡æ–°å¼€å§‹ã€‚</p>
  <p>æ­£ç¡®é¡ºåºåï¼Œä½ å°†è§£é”å—ç“œç¤¼ç‰©ï¼</p>
</div>

<div class="candle-container">
  <img src="candle_white_off.png" class="candle" id="candle1" data-color="white" onclick="lightCandle(1)">
  <img src="candle_blue_off.png" class="candle" id="candle2" data-color="blue" onclick="lightCandle(2)">
  <img src="candle_green_off.png" class="candle" id="candle3" data-color="green" onclick="lightCandle(3)">
</div>

<button id="treat-btn" onclick="getTreat()">ğŸƒ Get Treat</button>

<script>
  // èœ¡çƒ›çš„æ­£ç¡®é¡ºåº
  const correctOrder = ['white', 'blue', 'green']; 
  let clickedOrder = [];
  let isGameOver = false;

  // éŸ³æ•ˆ
  const lightingSound = new Audio('lighting.mp3');  // èœ¡çƒ›ç‚¹ç‡ƒéŸ³æ•ˆ
  const extinguishSound = new Audio('extinguish.mp3');  // èœ¡çƒ›ç†„ç­éŸ³æ•ˆ

  // èœ¡çƒ›ç‚¹äº®åŠŸèƒ½
  function lightCandle(candleNumber) {
    if (isGameOver) return;

    // è·å–èœ¡çƒ›é¢œè‰²
    const candleColor = document.getElementById(`candle${candleNumber}`).dataset.color;

    // ç”¨æˆ·ç‚¹å‡»çš„é¡ºåº
    clickedOrder.push(candleColor);

    // æ ¹æ®ç”¨æˆ·ç‚¹å‡»çš„é¡ºåºï¼Œç‚¹äº®èœ¡çƒ›
    document.getElementById(`candle${candleNumber}`).src = `candle_${candleColor}_on.png`;
    lightingSound.play();

    // æ£€æŸ¥é¡ºåº
    if (clickedOrder[clickedOrder.length - 1] !== correctOrder[clickedOrder.length - 1]) {
      // å¦‚æœé¡ºåºé”™è¯¯ï¼Œé‡ç½®æ¸¸æˆ
      extinguishAllCandles();
      isGameOver = true;
      setTimeout(() => alert('é¡ºåºé”™è¯¯ï¼Œé‡æ¥ï¼'), 500);
    } else if (clickedOrder.length === correctOrder.length) {
      // å®Œæˆæ­£ç¡®é¡ºåºï¼Œæ˜¾ç¤ºå—ç“œæŒ‰é’®
      setTimeout(() => {
        document.getElementById('treat-btn').style.display = 'block';
      }, 500);
    }
  }

  // ç†„ç­æ‰€æœ‰èœ¡çƒ›
  function extinguishAllCandles() {
    for (let i = 1; i <= 3; i++) {
      const candle = document.getElementById(`candle${i}`);
      const color = candle.dataset.color;
      candle.src = `candle_${color}_off.png`;
    }
    extinguishSound.play();
    clickedOrder = [];
  }

  // è·å– Treat æŒ‰é’®ç‚¹å‡»äº‹ä»¶
  function getTreat() {
    window.open('https://wotunciba.tumblr.com/simblreentreat1', '_blank');
  }
</script>

</body>
</html>
